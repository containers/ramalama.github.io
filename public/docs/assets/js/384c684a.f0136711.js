"use strict";(globalThis.webpackChunkdocsite=globalThis.webpackChunkdocsite||[]).push([[294],{2821(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"commands/ramalama/push","title":"push","description":"push AI Models from local storage to remote registries","source":"@site/docs/commands/ramalama/push.mdx","sourceDirName":"commands/ramalama","slug":"/commands/ramalama/push","permalink":"/docs/commands/ramalama/push","draft":false,"unlisted":false,"editUrl":"https://github.com/containers/ramalama/edit/main/docsite/commands/ramalama/push.mdx","tags":[],"version":"current","frontMatter":{"title":"push","description":"push AI Models from local storage to remote registries"},"sidebar":"docs","previous":{"title":"pull","permalink":"/docs/commands/ramalama/pull"},"next":{"title":"rag","permalink":"/docs/commands/ramalama/rag"}}');var t=s(4848),r=s(8453);const i={title:"push",description:"push AI Models from local storage to remote registries"},o="push",l={},d=[{value:"Synopsis",id:"synopsis",level:2},{value:"Description",id:"description",level:2},{value:"Options",id:"options",level:2},{value:"<strong>--authfile</strong>=<em>password</em>",id:"--authfilepassword",level:4},{value:"<strong>--help</strong>, <strong>-h</strong>",id:"--help--h",level:4},{value:"<strong>--network</strong>=<em>none</em>",id:"--networknone",level:4},{value:"<strong>--tls-verify</strong>=<em>true</em>",id:"--tls-verifytrue",level:4},{value:"<strong>--type</strong>=<em>raw</em> | <em>car</em>",id:"--typeraw--car",level:4},{value:"EXAMPLE",id:"example",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"push",children:"push"})}),"\n",(0,t.jsx)(n.h2,{id:"synopsis",children:"Synopsis"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ramalama push"})," [",(0,t.jsx)(n.em,{children:"options"}),"] ",(0,t.jsx)(n.em,{children:"model"})," [",(0,t.jsx)(n.em,{children:"target"}),"]"]}),"\n",(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Push specified AI Model (OCI-only at present)"}),"\n",(0,t.jsx)(n.p,{children:"The model can be from RamaLama model storage in Huggingface, Ollama, or OCI Model format.\nThe model can also just be a model stored on disk."}),"\n",(0,t.jsxs)(n.p,{children:["Users can convert without pushing using the ",(0,t.jsx)(n.code,{children:"ramalama convert"})," command."]}),"\n",(0,t.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,t.jsxs)(n.h4,{id:"--authfilepassword",children:[(0,t.jsx)(n.strong,{children:"--authfile"}),"=",(0,t.jsx)(n.em,{children:"password"})]}),"\n",(0,t.jsx)(n.p,{children:"path of the authentication file for OCI registries"}),"\n",(0,t.jsxs)(n.h4,{id:"--help--h",children:[(0,t.jsx)(n.strong,{children:"--help"}),", ",(0,t.jsx)(n.strong,{children:"-h"})]}),"\n",(0,t.jsx)(n.p,{children:"Print usage message"}),"\n",(0,t.jsxs)(n.h4,{id:"--networknone",children:[(0,t.jsx)(n.strong,{children:"--network"}),"=",(0,t.jsx)(n.em,{children:"none"})]}),"\n",(0,t.jsx)(n.p,{children:"sets the configuration for network namespaces when handling RUN instructions"}),"\n",(0,t.jsxs)(n.h4,{id:"--tls-verifytrue",children:[(0,t.jsx)(n.strong,{children:"--tls-verify"}),"=",(0,t.jsx)(n.em,{children:"true"})]}),"\n",(0,t.jsx)(n.p,{children:"require HTTPS and verify certificates when contacting OCI registries"}),"\n",(0,t.jsxs)(n.h4,{id:"--typeraw--car",children:[(0,t.jsx)(n.strong,{children:"--type"}),"=",(0,t.jsx)(n.em,{children:"raw"})," | ",(0,t.jsx)(n.em,{children:"car"})]}),"\n",(0,t.jsx)(n.p,{children:"type of OCI Model Image to push."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"car"}),(0,t.jsx)(n.td,{children:"Includes base image with the model stored in a /models subdir"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"raw"}),(0,t.jsx)(n.td,{children:"Only the model and a link file model.file to it stored at /"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Only supported for pushing OCI Model Images."}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"EXAMPLE"}),"\n",(0,t.jsx)(n.p,{children:"Push and OCI model to registry"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ ramalama push oci://quay.io/rhatdan/tiny:latest\nPushing quay.io/rhatdan/tiny:latest...\nGetting image source signatures\nCopying blob e0166756db86 skipped: already exists\nCopying config ebe856e203 done   |\nWriting manifest to image destination\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate an oci model out of an Ollama model and push to registry"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ ramalama push ollama://tinyllama:latest oci://quay.io/rhatdan/tiny:latest\nBuilding quay.io/rhatdan/tiny:latest...\nSTEP 1/2: FROM scratch\nSTEP 2/2: COPY sha256:2af3b81862c6be03c769683af18efdadb2c33f60ff32ab6f83e42c043d6c7816 /model\n--\x3e Using cache 69db4a10191c976d2c3c24da972a2a909adec45135a69dbb9daeaaf2a3a36344\nCOMMIT quay.io/rhatdan/tiny:latest\n--\x3e 69db4a10191c\nSuccessfully tagged quay.io/rhatdan/tiny:latest\n69db4a10191c976d2c3c24da972a2a909adec45135a69dbb9daeaaf2a3a36344\nPushing quay.io/rhatdan/tiny:latest...\nGetting image source signatures\nCopying blob e0166756db86 skipped: already exists\nCopying config 69db4a1019 done   |\nWriting manifest to image destination\n"})}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/docs/commands/ramalama/",children:"ramalama(1)"}),", ",(0,t.jsx)(n.a,{href:"/docs/commands/ramalama/convert",children:"ramalama-convert(1)"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.em,{children:["Aug 2024, Originally compiled by Eric Curtin <",(0,t.jsx)(n.a,{href:"mailto:ecurtin@redhat.com",children:"ecurtin@redhat.com"}),">"]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>i,x:()=>o});var a=s(6540);const t={},r=a.createContext(t);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);