"use strict";(globalThis.webpackChunkdocsite=globalThis.webpackChunkdocsite||[]).push([[157],{4938:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"commands/ramalama/serve","title":"serve","description":"serve REST API on specified AI Model","source":"@site/docs/commands/ramalama/serve.mdx","sourceDirName":"commands/ramalama","slug":"/commands/ramalama/serve","permalink":"/docs/commands/ramalama/serve","draft":false,"unlisted":false,"editUrl":"https://github.com/containers/ramalama/edit/main/docsite/commands/ramalama/serve.mdx","tags":[],"version":"current","frontMatter":{"title":"serve","description":"serve REST API on specified AI Model"},"sidebar":"docs","previous":{"title":"run","permalink":"/docs/commands/ramalama/run"},"next":{"title":"stop","permalink":"/docs/commands/ramalama/stop"}}');var r=a(4848),i=a(8453);const s={title:"serve",description:"serve REST API on specified AI Model"},l="serve",o={},d=[{value:"Synopsis",id:"synopsis",level:2},{value:"Description",id:"description",level:2},{value:"MODEL TRANSPORTS",id:"model-transports",level:2},{value:"REST API ENDPOINTS",id:"rest-api-endpoints",level:2},{value:"Options",id:"options",level:2},{value:"<strong>--add-to-unit</strong>",id:"--add-to-unit",level:4},{value:"<strong>--api</strong>=<strong>llama-stack</strong> | none**",id:"--apillama-stack--none",level:4},{value:"<strong>--authfile</strong>=<em>password</em>",id:"--authfilepassword",level:4},{value:"<strong>--cache-reuse</strong>=256",id:"--cache-reuse256",level:4},{value:"<strong>--ctx-size</strong>, <strong>-c</strong>",id:"--ctx-size--c",level:4},{value:"<strong>--detach</strong>, <strong>-d</strong>",id:"--detach--d",level:4},{value:"<strong>--device</strong>",id:"--device",level:4},{value:"<strong>--dri</strong>=<em>on</em> | <em>off</em>",id:"--drion--off",level:4},{value:"<strong>--env</strong>=",id:"--env",level:4},{value:"<strong>--generate</strong>=type",id:"--generatetype",level:4},{value:"<strong>--help</strong>, <strong>-h</strong>",id:"--help--h",level:4},{value:"<strong>--host</strong>=&quot;0.0.0.0&quot;",id:"--host0000",level:4},{value:"<strong>--image</strong>=IMAGE",id:"--imageimage",level:4},{value:"<strong>--keep-groups</strong>",id:"--keep-groups",level:4},{value:"<strong>--max-tokens</strong>=<em>integer</em>",id:"--max-tokensinteger",level:4},{value:"<strong>--model-draft</strong>",id:"--model-draft",level:4},{value:"<strong>--name</strong>, <strong>-n</strong>",id:"--name--n",level:4},{value:"<strong>--network</strong>=<em>&quot;&quot;</em>",id:"--network",level:4},{value:"<strong>--ngl</strong>",id:"--ngl",level:4},{value:"<strong>--oci-runtime</strong>",id:"--oci-runtime",level:4},{value:"<strong>--port</strong>, <strong>-p</strong>",id:"--port--p",level:4},{value:"<strong>--privileged</strong>",id:"--privileged",level:4},{value:"<strong>--pull</strong>=<em>policy</em>",id:"--pullpolicy",level:4},{value:"<strong>--rag</strong>=",id:"--rag",level:4},{value:"<strong>--rag-image</strong>=",id:"--rag-image",level:4},{value:"<strong>--runtime-args</strong>=&quot;<em>args</em>&quot;",id:"--runtime-argsargs",level:4},{value:"<strong>--seed</strong>=",id:"--seed",level:4},{value:"<strong>--selinux</strong>=<em>true</em>",id:"--selinuxtrue",level:4},{value:"<strong>--temp</strong>=&quot;0.8&quot;",id:"--temp08",level:4},{value:"<strong>--thinking</strong>=<em>true</em>",id:"--thinkingtrue",level:4},{value:"<strong>--threads</strong>, <strong>-t</strong>",id:"--threads--t",level:4},{value:"<strong>--tls-verify</strong>=<em>true</em>",id:"--tls-verifytrue",level:4},{value:"<strong>--webui</strong>=<em>on</em> | <em>off</em>",id:"--webuion--off",level:4},{value:"Examples",id:"examples",level:2},{value:"Run two AI Models at the same time. Notice both are running within Podman Containers.",id:"run-two-ai-models-at-the-same-time-notice-both-are-running-within-podman-containers",level:3},{value:"Generate quadlet service off of HuggingFace granite Model",id:"generate-quadlet-service-off-of-huggingface-granite-model",level:3},{value:"Generate quadlet service off of tiny OCI Model",id:"generate-quadlet-service-off-of-tiny-oci-model",level:3},{value:"Generate quadlet service off of tiny OCI Model and output to directory",id:"generate-quadlet-service-off-of-tiny-oci-model-and-output-to-directory",level:3},{value:"Generate a kubernetes YAML file named MyTinyModel",id:"generate-a-kubernetes-yaml-file-named-mytinymodel",level:3},{value:"Generate Compose file",id:"generate-compose-file",level:3},{value:"Generate a Llama Stack Kubernetes YAML file named MyLamaStack",id:"generate-a-llama-stack-kubernetes-yaml-file-named-mylamastack",level:3},{value:"Generate a kubernetes YAML file named MyTinyModel shown above, but also generate a quadlet to run it in.",id:"generate-a-kubernetes-yaml-file-named-mytinymodel-shown-above-but-also-generate-a-quadlet-to-run-it-in",level:3},{value:"NVIDIA CUDA Support",id:"nvidia-cuda-support",level:2},{value:"MLX Support",id:"mlx-support",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"serve",children:"serve"})}),"\n",(0,r.jsx)(n.h2,{id:"synopsis",children:"Synopsis"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ramalama serve"})," [",(0,r.jsx)(n.em,{children:"options"}),"] ",(0,r.jsx)(n.em,{children:"model"})]}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"Serve specified AI Model as a chat bot. RamaLama pulls specified AI Model from\nregistry if it does not exist in local storage."}),"\n",(0,r.jsx)(n.h2,{id:"model-transports",children:"MODEL TRANSPORTS"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Transports"}),(0,r.jsx)(n.th,{children:"Prefix"}),(0,r.jsx)(n.th,{children:"Web Site"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"URL based"}),(0,r.jsx)(n.td,{children:"https://, http://, file://"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"https://web.site/ai.model"}),", ",(0,r.jsx)(n.code,{children:"file://tmp/ai.model"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"HuggingFace"}),(0,r.jsx)(n.td,{children:"huggingface://, hf://, hf.co/"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://www.huggingface.co",children:(0,r.jsx)(n.code,{children:"huggingface.co"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ModelScope"}),(0,r.jsx)(n.td,{children:"modelscope://, ms://"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://modelscope.cn/",children:(0,r.jsx)(n.code,{children:"modelscope.cn"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Ollama"}),(0,r.jsx)(n.td,{children:"ollama://"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://www.ollama.com",children:(0,r.jsx)(n.code,{children:"ollama.com"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OCI Container Registries"}),(0,r.jsx)(n.td,{children:"oci://"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://opencontainers.org",children:(0,r.jsx)(n.code,{children:"opencontainers.org"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rlcr"}),(0,r.jsx)(n.td,{children:"rlcr://"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://registry.ramalama.com",children:(0,r.jsx)(n.code,{children:"ramalama.com"})})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsxs)(n.td,{children:["Examples: ",(0,r.jsx)(n.a,{href:"https://quay.io",children:(0,r.jsx)(n.code,{children:"quay.io"})}),",  ",(0,r.jsx)(n.a,{href:"https://docker.io",children:(0,r.jsx)(n.code,{children:"Docker Hub"})}),",",(0,r.jsx)(n.a,{href:"https://artifactory.com",children:(0,r.jsx)(n.code,{children:"Artifactory"})})]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["RamaLama defaults to the Ollama registry transport. This default can be overridden in the ",(0,r.jsx)(n.code,{children:"ramalama.conf"})," file or via the RAMALAMA_TRANSPORTS\nenvironment. ",(0,r.jsx)(n.code,{children:"export RAMALAMA_TRANSPORT=huggingface"})," Changes RamaLama to use huggingface transport."]}),"\n",(0,r.jsxs)(n.p,{children:["Modify individual model transports by specifying the ",(0,r.jsx)(n.code,{children:"huggingface://"}),", ",(0,r.jsx)(n.code,{children:"oci://"}),", ",(0,r.jsx)(n.code,{children:"ollama://"}),", ",(0,r.jsx)(n.code,{children:"https://"}),", ",(0,r.jsx)(n.code,{children:"http://"}),", ",(0,r.jsx)(n.code,{children:"file://"})," prefix to the model."]}),"\n",(0,r.jsx)(n.p,{children:"URL support means if a model is on a web site or even on your local system, you can run it directly."}),"\n",(0,r.jsx)(n.h2,{id:"rest-api-endpoints",children:"REST API ENDPOINTS"}),"\n",(0,r.jsxs)(n.p,{children:["Under the hood, ",(0,r.jsx)(n.code,{children:"ramalama-serve"})," uses the ",(0,r.jsx)(n.code,{children:"llama.cpp"})," HTTP server by default. When using ",(0,r.jsx)(n.code,{children:"--runtime=vllm"}),", it uses the vLLM server. When using ",(0,r.jsx)(n.code,{children:"--runtime=mlx"}),", it uses the MLX LM server."]}),"\n",(0,r.jsx)(n.p,{children:"For REST API endpoint documentation, see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["llama.cpp: ",(0,r.jsx)(n.a,{href:"https://github.com/ggml-org/llama.cpp/blob/master/tools/server/README.md#api-endpoints",children:"https://github.com/ggml-org/llama.cpp/blob/master/tools/server/README.md#api-endpoints"})]}),"\n",(0,r.jsxs)(n.li,{children:["vLLM: ",(0,r.jsx)(n.a,{href:"https://docs.vllm.ai/en/latest/serving/openai_compatible_server.html",children:"https://docs.vllm.ai/en/latest/serving/openai_compatible_server.html"})]}),"\n",(0,r.jsxs)(n.li,{children:["MLX LM: ",(0,r.jsx)(n.a,{href:"https://github.com/ml-explore/mlx-lm/blob/main/mlx_lm/SERVER.md",children:"https://github.com/ml-explore/mlx-lm/blob/main/mlx_lm/SERVER.md"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsx)(n.h4,{id:"--add-to-unit",children:(0,r.jsx)(n.strong,{children:"--add-to-unit"})}),"\n",(0,r.jsxs)(n.p,{children:["format: --add-to-unit section:key",":value"]}),"\n",(0,r.jsxs)(n.p,{children:["Adds to the generated unit file (quadlet) in the section ",(0,r.jsx)(n.em,{children:"section"})," the key ",(0,r.jsx)(n.em,{children:"key"})," with the value ",(0,r.jsx)(n.em,{children:"value"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Useful, for instance, to add environment variables to the generated unit file, or to place the container in a specific pod/network (Container:Network",":xxx",".network)."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Only valid with ",(0,r.jsx)(n.em,{children:"--generate"})," parameter."]})}),"\n",(0,r.jsx)(n.p,{children:"Section, key and value are required and must be separated by colons."}),"\n",(0,r.jsxs)(n.h4,{id:"--apillama-stack--none",children:[(0,r.jsx)(n.strong,{children:"--api"}),"=",(0,r.jsx)(n.strong,{children:"llama-stack"})," | none**"]}),"\n",(0,r.jsxs)(n.p,{children:["Unified API layer for Inference, RAG, Agents, Tools, Safety, Evals, and Telemetry.(default: none)\nThe default can be overridden in the ",(0,r.jsx)(n.code,{children:"ramalama.conf"})," file."]}),"\n",(0,r.jsxs)(n.h4,{id:"--authfilepassword",children:[(0,r.jsx)(n.strong,{children:"--authfile"}),"=",(0,r.jsx)(n.em,{children:"password"})]}),"\n",(0,r.jsx)(n.p,{children:"Path of the authentication file for OCI registries"}),"\n",(0,r.jsxs)(n.h4,{id:"--cache-reuse256",children:[(0,r.jsx)(n.strong,{children:"--cache-reuse"}),"=256"]}),"\n",(0,r.jsx)(n.p,{children:"Min chunk size to attempt reusing from the cache via KV shifting"}),"\n",(0,r.jsxs)(n.h4,{id:"--ctx-size--c",children:[(0,r.jsx)(n.strong,{children:"--ctx-size"}),", ",(0,r.jsx)(n.strong,{children:"-c"})]}),"\n",(0,r.jsxs)(n.p,{children:["size of the prompt context. This option is also available as ",(0,r.jsx)(n.strong,{children:"--max-model-len"}),". Applies to llama.cpp and vllm regardless of alias (default: 4096, 0 = loaded from model)"]}),"\n",(0,r.jsxs)(n.h4,{id:"--detach--d",children:[(0,r.jsx)(n.strong,{children:"--detach"}),", ",(0,r.jsx)(n.strong,{children:"-d"})]}),"\n",(0,r.jsx)(n.p,{children:"Run the container in the background and print the new container ID.\nThe default is TRUE. The --nocontainer option forces this option to False."}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"ramalama stop"})," command to stop the container running the served ramalama Model."]}),"\n",(0,r.jsx)(n.h4,{id:"--device",children:(0,r.jsx)(n.strong,{children:"--device"})}),"\n",(0,r.jsx)(n.p,{children:"Add a host device to the container. Optional permissions parameter can\nbe used to specify device permissions by combining r for read, w for\nwrite, and m for mknod(2)."}),"\n",(0,r.jsxs)(n.p,{children:["Example: --device=/dev/dri/renderD128:/dev/xvdc",":rwm"]}),"\n",(0,r.jsx)(n.p,{children:"The device specification is passed directly to the underlying container engine. See documentation of the supported container engine for more information."}),"\n",(0,r.jsx)(n.p,{children:"Pass '--device=none' explicitly add no device to the container, eg for\nrunning a CPU-only performance comparison."}),"\n",(0,r.jsxs)(n.h4,{id:"--drion--off",children:[(0,r.jsx)(n.strong,{children:"--dri"}),"=",(0,r.jsx)(n.em,{children:"on"})," | ",(0,r.jsx)(n.em,{children:"off"})]}),"\n",(0,r.jsxs)(n.p,{children:["Enable or disable mounting ",(0,r.jsx)(n.code,{children:"/dev/dri"})," into the container when running with ",(0,r.jsx)(n.code,{children:"--api=llama-stack"})," (enabled by default). Use to prevent access to the host device when not required, or avoid errors in environments where ",(0,r.jsx)(n.code,{children:"/dev/dri"})," is not available."]}),"\n",(0,r.jsxs)(n.h4,{id:"--env",children:[(0,r.jsx)(n.strong,{children:"--env"}),"="]}),"\n",(0,r.jsx)(n.p,{children:"Set environment variables inside of the container."}),"\n",(0,r.jsx)(n.p,{children:"This option allows arbitrary environment variables that are available for the\nprocess to be launched inside of the container. If an environment variable is\nspecified without a value, the container engine checks the host environment\nfor a value and set the variable only if it is set on the host."}),"\n",(0,r.jsxs)(n.h4,{id:"--generatetype",children:[(0,r.jsx)(n.strong,{children:"--generate"}),"=type"]}),"\n",(0,r.jsx)(n.p,{children:"Generate specified configuration format for running the AI Model as a service"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"quadlet"}),(0,r.jsx)(n.td,{children:"Podman supported container definition for running AI Model under systemd"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"kube"}),(0,r.jsx)(n.td,{children:"Kubernetes YAML definition for running the AI Model as a service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"quadlet/kube"}),(0,r.jsx)(n.td,{children:"Kubernetes YAML definition for running the AI Model as a service and Podman supported container definition for running the Kube YAML specified pod under systemd"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"compose"}),(0,r.jsx)(n.td,{children:"Compose YAML definition for running the AI Model as a service"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Optionally, an output directory for the generated files can be specified by\nappending the path to the type, e.g. ",(0,r.jsx)(n.code,{children:"--generate kube:/etc/containers/systemd"}),"."]}),"\n",(0,r.jsxs)(n.h4,{id:"--help--h",children:[(0,r.jsx)(n.strong,{children:"--help"}),", ",(0,r.jsx)(n.strong,{children:"-h"})]}),"\n",(0,r.jsx)(n.p,{children:"show this help message and exit"}),"\n",(0,r.jsxs)(n.h4,{id:"--host0000",children:[(0,r.jsx)(n.strong,{children:"--host"}),'="0.0.0.0"']}),"\n",(0,r.jsx)(n.p,{children:"IP address for llama.cpp to listen on."}),"\n",(0,r.jsxs)(n.h4,{id:"--imageimage",children:[(0,r.jsx)(n.strong,{children:"--image"}),"=IMAGE"]}),"\n",(0,r.jsxs)(n.p,{children:["OCI container image to run with specified AI model. RamaLama defaults to using\nimages based on the accelerator it discovers. For example:\n",(0,r.jsx)(n.code,{children:"quay.io/ramalama/ramalama"}),". See the table above for all default images.\nThe default image tag is based on the minor version of the RamaLama package.\nVersion 0.14.0 of RamaLama pulls an image with a ",(0,r.jsx)(n.code,{children:":0.14"})," tag from the quay.io/ramalama OCI repository. The --image option overrides this default."]}),"\n",(0,r.jsxs)(n.p,{children:["The default can be overridden in the ",(0,r.jsx)(n.code,{children:"ramalama.conf"})," file or via the\nRAMALAMA_IMAGE environment variable. ",(0,r.jsx)(n.code,{children:"export RAMALAMA_IMAGE=quay.io/ramalama/aiimage:1.2"})," tells\nRamaLama to use the ",(0,r.jsx)(n.code,{children:"quay.io/ramalama/aiimage:1.2"})," image."]}),"\n",(0,r.jsx)(n.p,{children:"Accelerated images:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Accelerator"}),(0,r.jsx)(n.th,{children:"Image"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CPU, Apple"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/ramalama"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"HIP_VISIBLE_DEVICES"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/rocm"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CUDA_VISIBLE_DEVICES"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/cuda"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ASAHI_VISIBLE_DEVICES"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/asahi"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"INTEL_VISIBLE_DEVICES"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/intel-gpu"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ASCEND_VISIBLE_DEVICES"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/cann"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MUSA_VISIBLE_DEVICES"}),(0,r.jsx)(n.td,{children:"quay.io/ramalama/musa"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"--keep-groups",children:(0,r.jsx)(n.strong,{children:"--keep-groups"})}),"\n",(0,r.jsx)(n.p,{children:"pass --group-add keep-groups to podman (default: False)\nIf GPU device on host system is accessible to user via group access, this option leaks the groups into the container."}),"\n",(0,r.jsxs)(n.h4,{id:"--max-tokensinteger",children:[(0,r.jsx)(n.strong,{children:"--max-tokens"}),"=",(0,r.jsx)(n.em,{children:"integer"})]}),"\n",(0,r.jsx)(n.p,{children:"Maximum number of tokens to generate. Set to 0 for unlimited output (default: 0).\nThis parameter is mapped to the appropriate runtime-specific parameter:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["llama.cpp: ",(0,r.jsx)(n.code,{children:"-n"})," parameter"]}),"\n",(0,r.jsxs)(n.li,{children:["MLX: ",(0,r.jsx)(n.code,{children:"--max-tokens"})," parameter"]}),"\n",(0,r.jsxs)(n.li,{children:["vLLM: ",(0,r.jsx)(n.code,{children:"--max-tokens"})," parameter"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"--model-draft",children:(0,r.jsx)(n.strong,{children:"--model-draft"})}),"\n",(0,r.jsx)(n.p,{children:"A draft model is a smaller, faster model that helps accelerate the decoding\nprocess of larger, more complex models, like Large Language Models (LLMs). It\nworks by generating candidate sequences of tokens that the larger model then\nverifies and refines. This approach, often referred to as speculative decoding,\ncan significantly improve the speed of inferencing by reducing the number of\ntimes the larger model needs to be invoked."}),"\n",(0,r.jsx)(n.p,{children:"Use --runtime-arg to pass the other draft model related parameters.\nMake sure the sampling parameters like top_k on the web UI are set correctly."}),"\n",(0,r.jsxs)(n.h4,{id:"--name--n",children:[(0,r.jsx)(n.strong,{children:"--name"}),", ",(0,r.jsx)(n.strong,{children:"-n"})]}),"\n",(0,r.jsx)(n.p,{children:"Name of the container to run the Model in."}),"\n",(0,r.jsxs)(n.h4,{id:"--network",children:[(0,r.jsx)(n.strong,{children:"--network"}),"=",(0,r.jsx)(n.em,{children:'""'})]}),"\n",(0,r.jsx)(n.p,{children:"set the network mode for the container"}),"\n",(0,r.jsx)(n.h4,{id:"--ngl",children:(0,r.jsx)(n.strong,{children:"--ngl"})}),"\n",(0,r.jsx)(n.p,{children:"number of gpu layers, 0 means CPU inferencing, 999 means use max layers (default: -1)\nThe default -1, means use whatever is automatically deemed appropriate (0 or 999)"}),"\n",(0,r.jsx)(n.h4,{id:"--oci-runtime",children:(0,r.jsx)(n.strong,{children:"--oci-runtime"})}),"\n",(0,r.jsx)(n.p,{children:"Override the default OCI runtime used to launch the container. Container\nengines like Podman and Docker, have their own default oci runtime that they\nuse. Using this option RamaLama will override these defaults."}),"\n",(0,r.jsxs)(n.p,{children:["On Nvidia based GPU systems, RamaLama defaults to using the\n",(0,r.jsx)(n.code,{children:"nvidia-container-runtime"}),". Use this option to override this selection."]}),"\n",(0,r.jsxs)(n.h4,{id:"--port--p",children:[(0,r.jsx)(n.strong,{children:"--port"}),", ",(0,r.jsx)(n.strong,{children:"-p"})]}),"\n",(0,r.jsx)(n.p,{children:"port for AI Model server to listen on. It must be available. If not specified,\na free port in the 8080-8180 range is selected, starting with 8080."}),"\n",(0,r.jsxs)(n.p,{children:["The default can be overridden in the ",(0,r.jsx)(n.code,{children:"ramalama.conf"})," file."]}),"\n",(0,r.jsx)(n.h4,{id:"--privileged",children:(0,r.jsx)(n.strong,{children:"--privileged"})}),"\n",(0,r.jsx)(n.p,{children:'By default, RamaLama containers are unprivileged (=false) and cannot, for\nexample, modify parts of the operating system. This is because by de\u2010\nfault a container is only allowed limited access to devices. A "privi\u2010\nleged" container is given the same access to devices as the user launch\u2010\ning the container, with the exception of virtual consoles (/dev/tty\\d+)\nwhen running in systemd mode (--systemd=always).'}),"\n",(0,r.jsx)(n.p,{children:"A privileged container turns off the security features that isolate the\ncontainer from the host. Dropped Capabilities, limited devices, read-\nonly mount points, Apparmor/SELinux separation, and Seccomp filters are\nall disabled. Due to the disabled security features, the privileged\nfield should almost never be set as containers can easily break out of\nconfinement."}),"\n",(0,r.jsx)(n.p,{children:"Containers running in a user namespace (e.g., rootless containers) can\u2010\nnot have more privileges than the user that launched them."}),"\n",(0,r.jsxs)(n.h4,{id:"--pullpolicy",children:[(0,r.jsx)(n.strong,{children:"--pull"}),"=",(0,r.jsx)(n.em,{children:"policy"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"always"}),": Always pull the image and throw an error if the pull fails."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"missing"}),": Only pull the image when it does not exist in the local containers storage. Throw an error if no image is found and the pull fails."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"never"}),": Never pull the image but use the one from the local containers storage. Throw an error when no image is found."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"newer"}),": Pull if the image on the registry is newer than the one in the local containers storage. An image is considered to be newer when the digests are different. Comparing the time stamps is prone to errors. Pull errors are suppressed if a local image was found."]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"--rag",children:[(0,r.jsx)(n.strong,{children:"--rag"}),"="]}),"\n",(0,r.jsx)(n.p,{children:"Specify path to Retrieval-Augmented Generation (RAG) database or an OCI Image containing a RAG database"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"RAG support requires AI Models be run within containers, --nocontainer not supported. Docker does not support image mounting, meaning Podman support required."})}),"\n",(0,r.jsxs)(n.h4,{id:"--rag-image",children:[(0,r.jsx)(n.strong,{children:"--rag-image"}),"="]}),"\n",(0,r.jsxs)(n.p,{children:["The image to use to process the RAG database specified by the ",(0,r.jsx)(n.code,{children:"--rag"})," option. The image must contain the ",(0,r.jsx)(n.code,{children:"/usr/bin/rag_framework"})," executable, which\nwill create a proxy which embellishes client requests with RAG data before passing them on to the LLM, and returns the responses."]}),"\n",(0,r.jsxs)(n.h4,{id:"--runtime-argsargs",children:[(0,r.jsx)(n.strong,{children:"--runtime-args"}),'="',(0,r.jsx)(n.em,{children:"args"}),'"']}),"\n",(0,r.jsxs)(n.p,{children:["Add ",(0,r.jsx)(n.em,{children:"args"})," to the runtime (llama.cpp or vllm) invocation."]}),"\n",(0,r.jsxs)(n.h4,{id:"--seed",children:[(0,r.jsx)(n.strong,{children:"--seed"}),"="]}),"\n",(0,r.jsx)(n.p,{children:"Specify seed rather than using random seed model interaction"}),"\n",(0,r.jsxs)(n.h4,{id:"--selinuxtrue",children:[(0,r.jsx)(n.strong,{children:"--selinux"}),"=",(0,r.jsx)(n.em,{children:"true"})]}),"\n",(0,r.jsx)(n.p,{children:"Enable SELinux container separation"}),"\n",(0,r.jsxs)(n.h4,{id:"--temp08",children:[(0,r.jsx)(n.strong,{children:"--temp"}),'="0.8"']}),"\n",(0,r.jsx)(n.p,{children:"Temperature of the response from the AI Model.\nllama.cpp explains this as:"}),"\n",(0,r.jsx)(n.p,{children:"The lower the number is, the more deterministic the response."}),"\n",(0,r.jsx)(n.p,{children:"The higher the number is the more creative the response is, but more likely to hallucinate when set too high."}),"\n",(0,r.jsx)(n.p,{children:"Usage: Lower numbers are good for virtual assistants where we need deterministic responses. Higher numbers are good for roleplay or creative tasks like editing stories"}),"\n",(0,r.jsxs)(n.h4,{id:"--thinkingtrue",children:[(0,r.jsx)(n.strong,{children:"--thinking"}),"=",(0,r.jsx)(n.em,{children:"true"})]}),"\n",(0,r.jsx)(n.p,{children:"Enable or disable thinking mode in reasoning models"}),"\n",(0,r.jsxs)(n.h4,{id:"--threads--t",children:[(0,r.jsx)(n.strong,{children:"--threads"}),", ",(0,r.jsx)(n.strong,{children:"-t"})]}),"\n",(0,r.jsx)(n.p,{children:"Maximum number of cpu threads to use.\nThe default is to use half the cores available on this system for the number of threads."}),"\n",(0,r.jsxs)(n.h4,{id:"--tls-verifytrue",children:[(0,r.jsx)(n.strong,{children:"--tls-verify"}),"=",(0,r.jsx)(n.em,{children:"true"})]}),"\n",(0,r.jsx)(n.p,{children:"require HTTPS and verify certificates when contacting OCI registries"}),"\n",(0,r.jsxs)(n.h4,{id:"--webuion--off",children:[(0,r.jsx)(n.strong,{children:"--webui"}),"=",(0,r.jsx)(n.em,{children:"on"})," | ",(0,r.jsx)(n.em,{children:"off"})]}),"\n",(0,r.jsxs)(n.p,{children:['Enable or disable the web UI for the served model (enabled by default). When set to "on" (the default), the web interface is properly initialized. When set to "off", the ',(0,r.jsx)(n.code,{children:"--no-webui"})," option is passed to the llama-server command to disable the web interface."]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"run-two-ai-models-at-the-same-time-notice-both-are-running-within-podman-containers",children:"Run two AI Models at the same time. Notice both are running within Podman Containers."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama serve -d -p 8080 --name mymodel ollama://smollm:135m\n09b0e0d26ed28a8418fb5cd0da641376a08c435063317e89cf8f5336baf35cfa\n\n$ ramalama serve -d -n example --port 8081 oci://quay.io/mmortari/gguf-py-example/v1/example.gguf\n3f64927f11a5da5ded7048b226fbe1362ee399021f5e8058c73949a677b6ac9c\n\n$ podman ps\nCONTAINER ID  IMAGE                             COMMAND               CREATED         STATUS         PORTS                   NAMES\n09b0e0d26ed2  quay.io/ramalama/ramalama:latest  /usr/bin/ramalama...  32 seconds ago  Up 32 seconds  0.0.0.0:8081->8081/tcp  ramalama_sTLNkijNNP\n3f64927f11a5  quay.io/ramalama/ramalama:latest  /usr/bin/ramalama...  17 seconds ago  Up 17 seconds  0.0.0.0:8082->8082/tcp  ramalama_YMPQvJxN97\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-quadlet-service-off-of-huggingface-granite-model",children:"Generate quadlet service off of HuggingFace granite Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama serve --name MyGraniteServer --generate=quadlet granite\nGenerating quadlet file: MyGraniteServer.container\n\n$ cat MyGraniteServer.container\n[Unit]\nDescription=RamaLama $HOME/.local/share/ramalama/models/huggingface/instructlab/granite-7b-lab-GGUF/granite-7b-lab-Q4_K_M.gguf AI Model Service\nAfter=local-fs.target\n\n[Container]\nAddDevice=-/dev/accel\nAddDevice=-/dev/dri\nAddDevice=-/dev/kfd\nExec=llama-server --port 1234 -m $HOME/.local/share/ramalama/models/huggingface/instructlab/granite-7b-lab-GGUF/granite-7b-lab-Q4_K_M.gguf\nImage=quay.io/ramalama/ramalama:latest\nMount=type=bind,src=/home/dwalsh/.local/share/ramalama/models/huggingface/instructlab/granite-7b-lab-GGUF/granite-7b-lab-Q4_K_M.gguf,target=/mnt/models/model.file,ro,Z\nContainerName=MyGraniteServer\nPublishPort=8080\n\n[Install]\n# Start by default on boot\nWantedBy=multi-user.target default.target\n\n$ mv MyGraniteServer.container $HOME/.config/containers/systemd/\n$ systemctl --user daemon-reload\n$ systemctl start --user MyGraniteServer\n$ systemctl status --user MyGraniteServer\n\u25cf MyGraniteServer.service - RamaLama granite AI Model Service\n     Loaded: loaded (/home/dwalsh/.config/containers/systemd/MyGraniteServer.container; generated)\n    Drop-In: /usr/lib/systemd/user/service.d\n\t    \u2514\u250010-timeout-abort.conf\n     Active: active (running) since Fri 2024-09-27 06:54:17 EDT; 3min 3s ago\n   Main PID: 3706287 (conmon)\n      Tasks: 20 (limit: 76808)\n     Memory: 1.0G (peak: 1.0G)\n\n...\n$ podman ps\nCONTAINER ID  IMAGE                             COMMAND               CREATED        STATUS        PORTS                    NAMES\n7bb35b97a0fe  quay.io/ramalama/ramalama:latest  llama-server --po...  3 minutes ago  Up 3 minutes  0.0.0.0:43869->8080/tcp  MyGraniteServer\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-quadlet-service-off-of-tiny-oci-model",children:"Generate quadlet service off of tiny OCI Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama --runtime=vllm serve --name tiny --generate=quadlet oci://quay.io/rhatdan/tiny:latest\nDownloading quay.io/rhatdan/tiny:latest...\nTrying to pull quay.io/rhatdan/tiny:latest...\nGetting image source signatures\nCopying blob 65ba8d40e14a skipped: already exists\nCopying blob e942a1bf9187 skipped: already exists\nCopying config d8e0b28ee6 done   |\nWriting manifest to image destination\nGenerating quadlet file: tiny.container\nGenerating quadlet file: tiny.image\nGenerating quadlet file: tiny.volume\n\n$cat tiny.container\n[Unit]\nDescription=RamaLama /run/model/model.file AI Model Service\nAfter=local-fs.target\n\n[Container]\nAddDevice=-/dev/accel\nAddDevice=-/dev/dri\nAddDevice=-/dev/kfd\nExec=vllm serve --port 8080 /run/model/model.file\nImage=quay.io/ramalama/ramalama:latest\nMount=type=volume,source=tiny:latest.volume,dest=/mnt/models,ro\nContainerName=tiny\nPublishPort=8080\n\n[Install]\n# Start by default on boot\nWantedBy=multi-user.target default.target\n\n$ cat tiny.volume\n[Volume]\nDriver=image\nImage=tiny:latest.image\n\n$ cat tiny.image\n[Image]\nImage=quay.io/rhatdan/tiny:latest\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-quadlet-service-off-of-tiny-oci-model-and-output-to-directory",children:"Generate quadlet service off of tiny OCI Model and output to directory"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama --runtime=vllm serve --name tiny --generate=quadlet:~/.config/containers/systemd/ oci://quay.io/rhatdan/tiny:latest\nGenerating quadlet file: tiny.container\nGenerating quadlet file: tiny.image\nGenerating quadlet file: tiny.volume\n\n$ ls ~/.config/containers/systemd/\ntiny.container tiny.image tiny.volume\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-a-kubernetes-yaml-file-named-mytinymodel",children:"Generate a kubernetes YAML file named MyTinyModel"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama serve --name MyTinyModel --generate=kube oci://quay.io/rhatdan/tiny-car:latest\nGenerating Kubernetes YAML file: MyTinyModel.yaml\n$ cat MyTinyModel.yaml\n# Save the output of this file and use kubectl create -f to import\n# it into Kubernetes.\n#\n# Created with ramalama-0.0.21\napiVersion: v1\nkind: Deployment\nmetadata:\n  name: MyTinyModel\n  labels:\n    app: MyTinyModel\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: MyTinyModel\n  template:\n    metadata:\n      labels:\n\tapp: MyTinyModel\n    spec:\n      containers:\n      - name: MyTinyModel\n\timage: quay.io/ramalama/ramalama:latest\n\tcommand: [\"llama-server\"]\n\targs: ['--port', '8080', '-m', '/mnt/models/model.file']\n\tports:\n\t- containerPort: 8080\n\tvolumeMounts:\n\t- mountPath: /mnt/models\n\t  subPath: /models\n\t  name: model\n\t- mountPath: /dev/dri\n\t  name: dri\n      volumes:\n      - image:\n\t  reference: quay.io/rhatdan/tiny-car:latest\n\t  pullPolicy: IfNotPresent\n\tname: model\n      - hostPath:\n\t  path: /dev/dri\n\tname: dri\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-compose-file",children:"Generate Compose file"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama serve --name=my-smollm-server --port 1234 --generate=compose smollm:135m\nGenerating Compose YAML file: docker-compose.yaml\n$ cat docker-compose.yaml\nversion: '3.8'\nservices:\n  my-smollm-server:\n    image: quay.io/ramalama/ramalama:latest\n    container_name: my-smollm-server\n    command: ramalama serve --host 0.0.0.0 --port 1234 smollm:135m\n    ports:\n      - \"1234:1234\"\n    volumes:\n      - ~/.local/share/ramalama/models/smollm-135m-instruct:/mnt/models/model.file:ro\n    environment:\n      - HOME=/tmp\n    cap_drop:\n      - ALL\n    security_opt:\n      - no-new-privileges\n      - label=disable\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-a-llama-stack-kubernetes-yaml-file-named-mylamastack",children:"Generate a Llama Stack Kubernetes YAML file named MyLamaStack"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama serve --api llama-stack --name MyLamaStack --generate=kube oci://quay.io/rhatdan/granite:latest\nGenerating Kubernetes YAML file: MyLamaStack.yaml\n$ cat MyLamaStack.yaml\napiVersion: v1\nkind: Deployment\nmetadata:\n  name: MyLamaStack\n  labels:\n    app: MyLamaStack\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: MyLamaStack\n  template:\n    metadata:\n      labels:\n\tai.ramalama: \"\"\n\tapp: MyLamaStack\n\tai.ramalama.model: oci://quay.io/rhatdan/granite:latest\n\tai.ramalama.engine: podman\n\tai.ramalama.runtime: llama.cpp\n\tai.ramalama.port: 8080\n\tai.ramalama.command: serve\n    spec:\n      containers:\n      - name: model-server\n\timage: quay.io/ramalama/ramalama:0.8\n\tcommand: [\"llama-server\"]\n\targs: ['--port', '8081', '--model', '/mnt/models/model.file', '--alias', 'quay.io/rhatdan/granite:latest', '--temp', '0.8', '--jinja', '--cache-reuse', '256', '-v', '--threads', 16, '--host', '127.0.0.1']\n\tsecurityContext:\n\t  allowPrivilegeEscalation: false\n\t  capabilities:\n\t    drop:\n\t    - CAP_CHOWN\n\t    - CAP_FOWNER\n\t    - CAP_FSETID\n\t    - CAP_KILL\n\t    - CAP_NET_BIND_SERVICE\n\t    - CAP_SETFCAP\n\t    - CAP_SETGID\n\t    - CAP_SETPCAP\n\t    - CAP_SETUID\n\t    - CAP_SYS_CHROOT\n\t    add:\n\t    - CAP_DAC_OVERRIDE\n\t  seLinuxOptions:\n\t    type: spc_t\n\tvolumeMounts:\n\t- mountPath: /mnt/models\n\t  subPath: /models\n\t  name: model\n\t- mountPath: /dev/dri\n\t  name: dri\n      - name: llama-stack\n\timage: quay.io/ramalama/llama-stack:0.8\n\targs:\n\t- /bin/sh\n\t- -c\n\t- llama stack run --image-type venv /etc/ramalama/ramalama-run.yaml\n\tenv:\n\t- name: RAMALAMA_URL\n\t  value: http://127.0.0.1:8081\n\t- name: INFERENCE_MODEL\n\t  value: quay.io/rhatdan/granite:latest\n\tsecurityContext:\n\t  allowPrivilegeEscalation: false\n\t  capabilities:\n\t    drop:\n\t    - CAP_CHOWN\n\t    - CAP_FOWNER\n\t    - CAP_FSETID\n\t    - CAP_KILL\n\t    - CAP_NET_BIND_SERVICE\n\t    - CAP_SETFCAP\n\t    - CAP_SETGID\n\t    - CAP_SETPCAP\n\t    - CAP_SETUID\n\t    - CAP_SYS_CHROOT\n\t    add:\n\t    - CAP_DAC_OVERRIDE\n\t  seLinuxOptions:\n\t    type: spc_t\n\tports:\n\t- containerPort: 8321\n\t  hostPort: 8080\n      volumes:\n      - hostPath:\n\t  path: quay.io/rhatdan/granite:latest\n\tname: model\n      - hostPath:\n\t  path: /dev/dri\n\tname: dri\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-a-kubernetes-yaml-file-named-mytinymodel-shown-above-but-also-generate-a-quadlet-to-run-it-in",children:"Generate a kubernetes YAML file named MyTinyModel shown above, but also generate a quadlet to run it in."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ ramalama --name MyTinyModel --generate=quadlet/kube oci://quay.io/rhatdan/tiny-car:latest\nrun_cmd:  podman image inspect quay.io/rhatdan/tiny-car:latest\nGenerating Kubernetes YAML file: MyTinyModel.yaml\nGenerating quadlet file: MyTinyModel.kube\n$ cat MyTinyModel.kube\n[Unit]\nDescription=RamaLama quay.io/rhatdan/tiny-car:latest Kubernetes YAML - AI Model Service\nAfter=local-fs.target\n\n[Kube]\nYaml=MyTinyModel.yaml\n\n[Install]\n# Start by default on boot\nWantedBy=multi-user.target default.target\n"})}),"\n",(0,r.jsx)(n.h2,{id:"nvidia-cuda-support",children:"NVIDIA CUDA Support"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/docs/platform-guides/cuda",children:"ramalama-cuda(7)"})," for setting up the host Linux system for CUDA support."]}),"\n",(0,r.jsx)(n.h2,{id:"mlx-support",children:"MLX Support"}),"\n",(0,r.jsx)(n.p,{children:"The MLX runtime is designed for Apple Silicon Macs and provides optimized performance on these systems. MLX support has the following requirements:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operating System"}),": macOS only"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hardware"}),": Apple Silicon (M1, M2, M3, or later)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Container Mode"}),": MLX requires ",(0,r.jsx)(n.code,{children:"--nocontainer"})," as it cannot run inside containers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dependencies"}),": The ",(0,r.jsx)(n.code,{children:"mlx-lm"})," uv package installed on the host system as a uv tool"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To install MLX dependencies, use ",(0,r.jsx)(n.code,{children:"uv"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"uv tool install mlx-lm\n# or upgrade to the latest version:\nuv tool upgrade mlx-lm\n"})}),"\n",(0,r.jsx)(n.p,{children:"Example usage:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ramalama --runtime=mlx serve hf://mlx-community/Unsloth-Phi-4-4bit\n"})}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/commands/ramalama/",children:"ramalama(1)"}),", ",(0,r.jsx)(n.a,{href:"/docs/commands/ramalama/stop",children:"ramalama-stop(1)"}),", ",(0,r.jsx)(n.strong,{children:"quadlet(1)"}),", ",(0,r.jsx)(n.strong,{children:"systemctl(1)"}),", ",(0,r.jsx)(n.strong,{children:"podman(1)"}),", ",(0,r.jsx)(n.strong,{children:"podman-ps(1)"}),", ",(0,r.jsx)(n.a,{href:"/docs/platform-guides/cuda",children:"ramalama-cuda(7)"}),", ",(0,r.jsx)(n.a,{href:"/docs/configuration/conf",children:"ramalama.conf(5)"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:["Aug 2024, Originally compiled by Dan Walsh <",(0,r.jsx)(n.a,{href:"mailto:dwalsh@redhat.com",children:"dwalsh@redhat.com"}),">"]})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>l});var t=a(6540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);