"use strict";(globalThis.webpackChunkdocsite=globalThis.webpackChunkdocsite||[]).push([[424],{7110:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"platform-guides/macos","title":"macos","description":"Platform-specific setup guide","source":"@site/docs/platform-guides/macos.mdx","sourceDirName":"platform-guides","slug":"/platform-guides/macos","permalink":"/docs/platform-guides/macos","draft":false,"unlisted":false,"editUrl":"https://github.com/containers/ramalama/edit/main/docsite/platform-guides/macos.mdx","tags":[],"version":"current","frontMatter":{"title":"macos","description":"Platform-specific setup guide"},"sidebar":"docs","previous":{"title":"cuda","permalink":"/docs/platform-guides/cuda"},"next":{"title":"musa","permalink":"/docs/platform-guides/musa"}}');var o=i(4848),t=i(8453);const r={title:"macos",description:"Platform-specific setup guide"},s="macos",c={},l=[{value:"Configuration Methods:",id:"configuration-methods",level:2},{value:"containers.conf",id:"containersconf",level:3},{value:"Environment Variable",id:"environment-variable",level:3},{value:"ramalama.conf",id:"ramalamaconf",level:3},{value:"Podman Desktop",id:"podman-desktop",level:2},{value:"Important Notes:",id:"important-notes",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"macos",children:"macos"})}),"\n",(0,o.jsx)(n.h1,{id:"configure-podman-machine-on-mac-for-gpu-acceleration",children:"Configure Podman Machine on Mac for GPU Acceleration"}),"\n",(0,o.jsxs)(n.p,{children:["Leveraging GPU acceleration on a Mac with Podman requires the configuration of\nthe ",(0,o.jsx)(n.code,{children:"libkrun"})," machine provider."]}),"\n",(0,o.jsxs)(n.p,{children:["This can be done by either setting an environment variable or modifying the\n",(0,o.jsx)(n.code,{children:"containers.conf"})," file. On MacOS, you'll likely need to create a new Podman\nmachine with libkrun to access the GPU."]}),"\n",(0,o.jsxs)(n.p,{children:["Previously created Podman Machines must be recreated to take\nadvantage of the ",(0,o.jsx)(n.code,{children:"libkrun"})," provider."]}),"\n",(0,o.jsx)(n.h2,{id:"configuration-methods",children:"Configuration Methods:"}),"\n",(0,o.jsx)(n.h3,{id:"containersconf",children:"containers.conf"}),"\n",(0,o.jsx)(n.p,{children:"Open the containers.conf file, typically located at $HOME/.config/containers/containers.conf."}),"\n",(0,o.jsx)(n.p,{children:'Add the following line within the [machine] section: provider = "libkrun".\nThis change will persist across sessions.'}),"\n",(0,o.jsx)(n.h3,{id:"environment-variable",children:"Environment Variable"}),"\n",(0,o.jsx)(n.p,{children:"Set the CONTAINERS_MACHINE_PROVIDER environment variable to libkrun. This will be a temporary change until you restart your terminal or session."}),"\n",(0,o.jsx)(n.p,{children:"For example: export CONTAINERS_MACHINE_PROVIDER=libkrun"}),"\n",(0,o.jsx)(n.h3,{id:"ramalamaconf",children:"ramalama.conf"}),"\n",(0,o.jsx)(n.p,{children:"RamaLama can also be run in a limited manner without using Containers, by\nspecifying the --nocontainer option. Open the ramalama.conf file, typically located at $HOME/.config/ramalama/ramalama.conf."}),"\n",(0,o.jsxs)(n.p,{children:["Add the following line within the [machine] section: ",(0,o.jsx)(n.code,{children:"container = false"}),"\nThis change will persist across sessions."]}),"\n",(0,o.jsx)(n.h2,{id:"podman-desktop",children:"Podman Desktop"}),"\n",(0,o.jsx)(n.p,{children:"Creating a Podman Machine with libkrun (MacOS):"}),"\n",(0,o.jsx)(n.p,{children:"Go to Settings > Resources in Podman Desktop."}),"\n",(0,o.jsx)(n.p,{children:"In the Podman tile, click Create new.\nIn the Create a Podman machine screen, you can configure the machine's resources (CPU, Memory, Disk size) and enable Machine with root privileges if needed.\nTo use libkrun, ensure that the environment variable is set or the containers.conf file is configured before creating the machine.\nOnce the machine is created, Podman Desktop will manage the connection to the new machine."}),"\n",(0,o.jsx)(n.h2,{id:"important-notes",children:"Important Notes:"}),"\n",(0,o.jsxs)(n.p,{children:["On MacOS, ",(0,o.jsx)(n.code,{children:"libkrun"})," is used to leverage the system's virtualization framework for running containers, and it requires a Podman machine to be created."]}),"\n",(0,o.jsxs)(n.p,{children:["Refer to the ",(0,o.jsx)(n.a,{href:"https://podman-desktop.io/docs/podman/creating-a-podman-machine",children:"Podman Desktop documentation"})," for detailed instructions and troubleshooting tips."]}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"/docs/commands/ramalama/",children:"ramalama(1)"}),", ",(0,o.jsx)(n.a,{href:"https://github.com/containers/podman/blob/main/docs/source/markdown/podman-machine.1.md",children:"podman-machine(1)"})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.em,{children:["Apr 2025, Originally compiled by Dan Walsh <",(0,o.jsx)(n.a,{href:"mailto:dwalsh@redhat.com",children:"dwalsh@redhat.com"}),">"]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>s});var a=i(6540);const o={},t=a.createContext(o);function r(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);