"use strict";(globalThis.webpackChunkdocsite=globalThis.webpackChunkdocsite||[]).push([[102],{6464(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"commands/ramalama/run","title":"run","description":"run specified AI Model as a chatbot","source":"@site/docs/commands/ramalama/run.mdx","sourceDirName":"commands/ramalama","slug":"/commands/ramalama/run","permalink":"/docs/commands/ramalama/run","draft":false,"unlisted":false,"editUrl":"https://github.com/containers/ramalama/edit/main/docsite/commands/ramalama/run.mdx","tags":[],"version":"current","frontMatter":{"title":"run","description":"run specified AI Model as a chatbot"},"sidebar":"docs","previous":{"title":"rm","permalink":"/docs/commands/ramalama/rm"},"next":{"title":"serve","permalink":"/docs/commands/ramalama/serve"}}');var i=s(4848),t=s(8453);const a={title:"run",description:"run specified AI Model as a chatbot"},l="run",o={},d=[{value:"Synopsis",id:"synopsis",level:2},{value:"MODEL TRANSPORTS",id:"model-transports",level:2},{value:"Options",id:"options",level:2},{value:"<strong>--api</strong>=<strong>llama-stack</strong> | none**",id:"--apillama-stack--none",level:4},{value:"<strong>--authfile</strong>=<em>password</em>",id:"--authfilepassword",level:4},{value:"<strong>--cache-reuse</strong>=256",id:"--cache-reuse256",level:4},{value:"<strong>--color</strong>",id:"--color",level:4},{value:"<strong>--ctx-size</strong>, <strong>-c</strong>",id:"--ctx-size--c",level:4},{value:"<strong>--device</strong>",id:"--device",level:4},{value:"<strong>--env</strong>=",id:"--env",level:4},{value:"<strong>--help</strong>, <strong>-h</strong>",id:"--help--h",level:4},{value:"<strong>--image</strong>=IMAGE",id:"--imageimage",level:4},{value:"<strong>--interactive</strong>, <strong>-i</strong>",id:"--interactive--i",level:4},{value:"<strong>--keep-groups</strong>",id:"--keep-groups",level:4},{value:"<strong>--keepalive</strong>",id:"--keepalive",level:4},{value:"<strong>--max-tokens</strong>=<em>integer</em>",id:"--max-tokensinteger",level:4},{value:"<strong>--mcp</strong>=SERVER_URL",id:"--mcpserver_url",level:4},{value:"<strong>--name</strong>, <strong>-n</strong>",id:"--name--n",level:4},{value:"<strong>--network</strong>=<em>none</em>",id:"--networknone",level:4},{value:"<strong>--ngl</strong>",id:"--ngl",level:4},{value:"<strong>--oci-runtime</strong>",id:"--oci-runtime",level:4},{value:"<strong>--port</strong>, <strong>-p</strong>=<em>port</em>",id:"--port--pport",level:4},{value:"<strong>--prefix</strong>",id:"--prefix",level:4},{value:"<strong>--privileged</strong>",id:"--privileged",level:4},{value:"<strong>--pull</strong>=<em>policy</em>",id:"--pullpolicy",level:4},{value:"<strong>--rag</strong>=",id:"--rag",level:4},{value:"<strong>--rag-image</strong>=",id:"--rag-image",level:4},{value:"<strong>--runtime-args</strong>=&quot;<em>args</em>&quot;",id:"--runtime-argsargs",level:4},{value:"<strong>--seed</strong>=",id:"--seed",level:4},{value:"<strong>--selinux</strong>=<em>true</em>",id:"--selinuxtrue",level:4},{value:"<strong>--summarize-after</strong>=<em>N</em>",id:"--summarize-aftern",level:4},{value:"<strong>--temp</strong>=&quot;0.8&quot;",id:"--temp08",level:4},{value:"<strong>--thinking</strong>=<em>true</em>",id:"--thinkingtrue",level:4},{value:"<strong>--threads</strong>, <strong>-t</strong>",id:"--threads--t",level:4},{value:"<strong>--tls-verify</strong>=<em>true</em>",id:"--tls-verifytrue",level:4},{value:"Description",id:"description",level:2},{value:"INTERACTIVE COMMANDS",id:"interactive-commands",level:2},{value:"<strong>/help</strong>, <strong>help</strong>, <strong>?</strong>",id:"help-help-",level:4},{value:"<strong>/clear</strong>",id:"clear",level:4},{value:"<strong>/bye</strong>, <strong>exit</strong>",id:"bye-exit",level:4},{value:"<strong>/tool</strong> [question]",id:"tool-question",level:4},{value:"<strong>Ctrl + D</strong>",id:"ctrl--d",level:4},{value:"Examples",id:"examples",level:2},{value:"Exit Codes:",id:"exit-codes",level:2},{value:"NVIDIA CUDA Support",id:"nvidia-cuda-support",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"run",children:"run"})}),"\n",(0,i.jsx)(n.h2,{id:"synopsis",children:"Synopsis"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ramalama run"})," [",(0,i.jsx)(n.em,{children:"options"}),"] ",(0,i.jsx)(n.em,{children:"model"})," [arg ...]"]}),"\n",(0,i.jsx)(n.h2,{id:"model-transports",children:"MODEL TRANSPORTS"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Transports"}),(0,i.jsx)(n.th,{children:"Prefix"}),(0,i.jsx)(n.th,{children:"Web Site"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"URL based"}),(0,i.jsx)(n.td,{children:"https://, http://, file://"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"https://web.site/ai.model"}),", ",(0,i.jsx)(n.code,{children:"file://tmp/ai.model"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"HuggingFace"}),(0,i.jsx)(n.td,{children:"huggingface://, hf://, hf.co/"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.huggingface.co",children:(0,i.jsx)(n.code,{children:"huggingface.co"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"ModelScope"}),(0,i.jsx)(n.td,{children:"modelscope://, ms://"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://modelscope.cn/",children:(0,i.jsx)(n.code,{children:"modelscope.cn"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Ollama"}),(0,i.jsx)(n.td,{children:"ollama://"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.ollama.com",children:(0,i.jsx)(n.code,{children:"ollama.com"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"rlcr"}),(0,i.jsx)(n.td,{children:"rlcr://"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://registry.ramalama.com",children:(0,i.jsx)(n.code,{children:"ramalama.com"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"OCI Container Registries"}),(0,i.jsx)(n.td,{children:"oci://"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://opencontainers.org",children:(0,i.jsx)(n.code,{children:"opencontainers.org"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{}),(0,i.jsxs)(n.td,{children:["Examples: ",(0,i.jsx)(n.a,{href:"https://quay.io",children:(0,i.jsx)(n.code,{children:"quay.io"})}),",  ",(0,i.jsx)(n.a,{href:"https://docker.io",children:(0,i.jsx)(n.code,{children:"Docker Hub"})}),",",(0,i.jsx)(n.a,{href:"https://artifactory.com",children:(0,i.jsx)(n.code,{children:"Artifactory"})})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Hosted API Providers"}),(0,i.jsx)(n.td,{children:"openai://"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://api.openai.com",children:(0,i.jsx)(n.code,{children:"api.openai.com"})})})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["RamaLama defaults to the Ollama registry transport. This default can be overridden in the ",(0,i.jsx)(n.code,{children:"ramalama.conf"})," file or via the RAMALAMA_TRANSPORTS\nenvironment. ",(0,i.jsx)(n.code,{children:"export RAMALAMA_TRANSPORT=huggingface"})," Changes RamaLama to use huggingface transport."]}),"\n",(0,i.jsxs)(n.p,{children:["Modify individual model transports by specifying the ",(0,i.jsx)(n.code,{children:"huggingface://"}),", ",(0,i.jsx)(n.code,{children:"oci://"}),", ",(0,i.jsx)(n.code,{children:"ollama://"}),", ",(0,i.jsx)(n.code,{children:"https://"}),", ",(0,i.jsx)(n.code,{children:"http://"}),", ",(0,i.jsx)(n.code,{children:"file://"}),", or hosted API\nprefix (",(0,i.jsx)(n.code,{children:"openai://"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["Hosted API transports connect directly to the remote provider and bypass the local container runtime. In this mode, flags that tune local\ncontainers (for example ",(0,i.jsx)(n.code,{children:"--image"}),", GPU settings, or ",(0,i.jsx)(n.code,{children:"--network"}),") do not apply, and the provider's own capabilities and security posture govern\nthe execution. URL support means if a model is on a web site or even on your local system, you can run it directly."]}),"\n",(0,i.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(n.h4,{id:"--apillama-stack--none",children:[(0,i.jsx)(n.strong,{children:"--api"}),"=",(0,i.jsx)(n.strong,{children:"llama-stack"})," | none**"]}),"\n",(0,i.jsxs)(n.p,{children:["unified API layer for Inference, RAG, Agents, Tools, Safety, Evals, and Telemetry.(default: none)\nThe default can be overridden in the ",(0,i.jsx)(n.code,{children:"ramalama.conf"})," file."]}),"\n",(0,i.jsxs)(n.h4,{id:"--authfilepassword",children:[(0,i.jsx)(n.strong,{children:"--authfile"}),"=",(0,i.jsx)(n.em,{children:"password"})]}),"\n",(0,i.jsx)(n.p,{children:"path of the authentication file for OCI registries"}),"\n",(0,i.jsxs)(n.h4,{id:"--cache-reuse256",children:[(0,i.jsx)(n.strong,{children:"--cache-reuse"}),"=256"]}),"\n",(0,i.jsx)(n.p,{children:"Min chunk size to attempt reusing from the cache via KV shifting"}),"\n",(0,i.jsx)(n.h4,{id:"--color",children:(0,i.jsx)(n.strong,{children:"--color"})}),"\n",(0,i.jsx)(n.p,{children:'Indicate whether or not to use color in the chat.\nPossible values are "never", "always" and "auto". (default: auto)'}),"\n",(0,i.jsxs)(n.h4,{id:"--ctx-size--c",children:[(0,i.jsx)(n.strong,{children:"--ctx-size"}),", ",(0,i.jsx)(n.strong,{children:"-c"})]}),"\n",(0,i.jsxs)(n.p,{children:["size of the prompt context. This option is also available as ",(0,i.jsx)(n.strong,{children:"--max-model-len"}),". Applies to llama.cpp and vllm regardless of alias (default: 0, 0 = loaded from model)"]}),"\n",(0,i.jsx)(n.h4,{id:"--device",children:(0,i.jsx)(n.strong,{children:"--device"})}),"\n",(0,i.jsx)(n.p,{children:"Add a host device to the container. Optional permissions parameter  can\nbe  used  to  specify device permissions by combining r for read, w for\nwrite, and m for mknod(2)."}),"\n",(0,i.jsxs)(n.p,{children:["Example: --device=/dev/dri/renderD128:/dev/xvdc",":rwm"]}),"\n",(0,i.jsx)(n.p,{children:"The device specification is passed directly to the underlying container engine.  See documentation of the supported container engine for more information."}),"\n",(0,i.jsx)(n.p,{children:"Pass '--device=none' explicitly add no device to the container, eg for\nrunning a CPU-only performance comparison."}),"\n",(0,i.jsxs)(n.h4,{id:"--env",children:[(0,i.jsx)(n.strong,{children:"--env"}),"="]}),"\n",(0,i.jsx)(n.p,{children:"Set environment variables inside of the container."}),"\n",(0,i.jsx)(n.p,{children:"This option allows arbitrary environment variables that are available for the\nprocess to be launched inside of the container. If an environment variable is\nspecified without a value, the container engine checks the host environment\nfor a value and set the variable only if it is set on the host."}),"\n",(0,i.jsxs)(n.h4,{id:"--help--h",children:[(0,i.jsx)(n.strong,{children:"--help"}),", ",(0,i.jsx)(n.strong,{children:"-h"})]}),"\n",(0,i.jsx)(n.p,{children:"Show this help message and exit"}),"\n",(0,i.jsxs)(n.h4,{id:"--imageimage",children:[(0,i.jsx)(n.strong,{children:"--image"}),"=IMAGE"]}),"\n",(0,i.jsxs)(n.p,{children:["OCI container image to run with specified AI model. RamaLama defaults to using\nimages based on the accelerator it discovers. For example:\n",(0,i.jsx)(n.code,{children:"quay.io/ramalama/ramalama"}),". See the table below for all default images.\nThe default image tag is based on the minor version of the RamaLama package.\nVersion 0.17.1 of RamaLama pulls an image with a ",(0,i.jsx)(n.code,{children:":0.17"})," tag from the quay.io/ramalama OCI repository. The --image option overrides this default."]}),"\n",(0,i.jsxs)(n.p,{children:["The default can be overridden in the ",(0,i.jsx)(n.code,{children:"ramalama.conf"})," file or via the\nRAMALAMA_IMAGE environment variable. ",(0,i.jsx)(n.code,{children:"export RAMALAMA_IMAGE=quay.io/ramalama/aiimage:1.2"})," tells\nRamaLama to use the ",(0,i.jsx)(n.code,{children:"quay.io/ramalama/aiimage:1.2"})," image."]}),"\n",(0,i.jsx)(n.p,{children:"Accelerated images:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Accelerator"}),(0,i.jsx)(n.th,{children:"Image"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CPU, Apple"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/ramalama"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"HIP_VISIBLE_DEVICES"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/rocm"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CUDA_VISIBLE_DEVICES"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/cuda"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"ASAHI_VISIBLE_DEVICES"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/asahi"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"INTEL_VISIBLE_DEVICES"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/intel-gpu"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"ASCEND_VISIBLE_DEVICES"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/cann"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MUSA_VISIBLE_DEVICES"}),(0,i.jsx)(n.td,{children:"quay.io/ramalama/musa"})]})]})]}),"\n",(0,i.jsxs)(n.h4,{id:"--interactive--i",children:[(0,i.jsx)(n.strong,{children:"--interactive"}),", ",(0,i.jsx)(n.strong,{children:"-i"})]}),"\n",(0,i.jsx)(n.p,{children:"Continue to interactive chat mode after processing stdin or prompt arguments.\nBy default, when arguments or piped input are provided, the command exits after\ndisplaying the response. This flag allows you to continue chatting interactively."}),"\n",(0,i.jsx)(n.h4,{id:"--keep-groups",children:(0,i.jsx)(n.strong,{children:"--keep-groups"})}),"\n",(0,i.jsx)(n.p,{children:"pass --group-add keep-groups to podman (default: False)\nIf GPU device on host system is accessible to user via group access, this option leaks the groups into the container."}),"\n",(0,i.jsx)(n.h4,{id:"--keepalive",children:(0,i.jsx)(n.strong,{children:"--keepalive"})}),"\n",(0,i.jsx)(n.p,{children:"duration to keep a model loaded (e.g. 5m)"}),"\n",(0,i.jsxs)(n.h4,{id:"--max-tokensinteger",children:[(0,i.jsx)(n.strong,{children:"--max-tokens"}),"=",(0,i.jsx)(n.em,{children:"integer"})]}),"\n",(0,i.jsx)(n.p,{children:"Maximum number of tokens to generate. Set to 0 for unlimited output (default: 0).\nThis parameter is mapped to the appropriate runtime-specific parameter:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["llama.cpp: ",(0,i.jsx)(n.code,{children:"-n"})," parameter"]}),"\n",(0,i.jsxs)(n.li,{children:["MLX: ",(0,i.jsx)(n.code,{children:"--max-tokens"})," parameter"]}),"\n",(0,i.jsxs)(n.li,{children:["vLLM: ",(0,i.jsx)(n.code,{children:"--max-tokens"})," parameter"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"--mcpserver_url",children:[(0,i.jsx)(n.strong,{children:"--mcp"}),"=SERVER_URL"]}),"\n",(0,i.jsx)(n.p,{children:"MCP (Model Context Protocol) servers to use for enhanced tool calling capabilities.\nCan be specified multiple times to connect to multiple MCP servers.\nEach server provides tools that can be automatically invoked during chat conversations."}),"\n",(0,i.jsxs)(n.h4,{id:"--name--n",children:[(0,i.jsx)(n.strong,{children:"--name"}),", ",(0,i.jsx)(n.strong,{children:"-n"})]}),"\n",(0,i.jsx)(n.p,{children:"name of the container to run the Model in"}),"\n",(0,i.jsxs)(n.h4,{id:"--networknone",children:[(0,i.jsx)(n.strong,{children:"--network"}),"=",(0,i.jsx)(n.em,{children:"none"})]}),"\n",(0,i.jsx)(n.p,{children:"set the network mode for the container"}),"\n",(0,i.jsx)(n.h4,{id:"--ngl",children:(0,i.jsx)(n.strong,{children:"--ngl"})}),"\n",(0,i.jsx)(n.p,{children:"number of gpu layers, 0 means CPU inferencing, 999 means use max layers (default: -1)\nThe default -1, means use whatever is automatically deemed appropriate (0 or 999)"}),"\n",(0,i.jsx)(n.h4,{id:"--oci-runtime",children:(0,i.jsx)(n.strong,{children:"--oci-runtime"})}),"\n",(0,i.jsx)(n.p,{children:"Override the default OCI runtime used to launch the container. Container\nengines like Podman and Docker, have their own default oci runtime that they\nuse. Using this option RamaLama will override these defaults."}),"\n",(0,i.jsxs)(n.p,{children:["On Nvidia based GPU systems, RamaLama defaults to using the\n",(0,i.jsx)(n.code,{children:"nvidia-container-runtime"}),". Use this option to override this selection."]}),"\n",(0,i.jsxs)(n.h4,{id:"--port--pport",children:[(0,i.jsx)(n.strong,{children:"--port"}),", ",(0,i.jsx)(n.strong,{children:"-p"}),"=",(0,i.jsx)(n.em,{children:"port"})]}),"\n",(0,i.jsx)(n.p,{children:"Port for AI Model server to listen on (default: 8080)"}),"\n",(0,i.jsxs)(n.p,{children:["The default can be overridden in the ",(0,i.jsx)(n.code,{children:"ramalama.conf"})," file."]}),"\n",(0,i.jsx)(n.h4,{id:"--prefix",children:(0,i.jsx)(n.strong,{children:"--prefix"})}),"\n",(0,i.jsx)(n.p,{children:"Prefix for the user prompt (default: \ud83e\uddad > )"}),"\n",(0,i.jsx)(n.h4,{id:"--privileged",children:(0,i.jsx)(n.strong,{children:"--privileged"})}),"\n",(0,i.jsx)(n.p,{children:'By default, RamaLama containers are unprivileged (=false) and cannot, for\nexample, modify parts of the operating system. This is because by de\u2010\nfault a container is only allowed limited access to devices. A "privi\u2010\nleged" container is given the same access to devices as the user launch\u2010\ning the container, with the exception of virtual consoles (/dev/tty\\d+)\nwhen running in systemd mode (--systemd=always).'}),"\n",(0,i.jsx)(n.p,{children:"A privileged container turns off the security features that isolate the\ncontainer from the host. Dropped Capabilities, limited devices, read-\nonly mount points, Apparmor/SELinux separation, and Seccomp filters are\nall disabled. Due to the disabled security features, the privileged\nfield should almost never be set as containers can easily break out of\nconfinement."}),"\n",(0,i.jsx)(n.p,{children:"Containers running in a user namespace (e.g., rootless containers) can\u2010\nnot have more privileges than the user that launched them."}),"\n",(0,i.jsxs)(n.h4,{id:"--pullpolicy",children:[(0,i.jsx)(n.strong,{children:"--pull"}),"=",(0,i.jsx)(n.em,{children:"policy"})]}),"\n",(0,i.jsxs)(n.p,{children:["Pull image policy. The default is ",(0,i.jsx)(n.strong,{children:"missing"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"always"}),": Always pull the image and throw an error if the pull fails."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"missing"}),": Only pull the image when it does not exist in the local containers storage. Throw an error if no image is found and the pull fails."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"never"}),": Never pull the image but use the one from the local containers storage. Throw an error when no image is found."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"newer"}),": Pull if the image on the registry is newer than the one in the local containers storage. An image is considered to be newer when the digests are different. Comparing the time stamps is prone to errors. Pull errors are suppressed if a local image was found."]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"--rag",children:[(0,i.jsx)(n.strong,{children:"--rag"}),"="]}),"\n",(0,i.jsx)(n.p,{children:"Specify path to Retrieval-Augmented Generation (RAG) database or an OCI Image containing a RAG database"}),"\n",(0,i.jsxs)(n.h4,{id:"--rag-image",children:[(0,i.jsx)(n.strong,{children:"--rag-image"}),"="]}),"\n",(0,i.jsxs)(n.p,{children:["The image to use to process the RAG database specified by the ",(0,i.jsx)(n.code,{children:"--rag"})," option. The image must contain the ",(0,i.jsx)(n.code,{children:"/usr/bin/rag_framework"})," executable, which\nwill create a proxy which embellishes client requests with RAG data before passing them on to the LLM, and returns the responses."]}),"\n",(0,i.jsxs)(n.h4,{id:"--runtime-argsargs",children:[(0,i.jsx)(n.strong,{children:"--runtime-args"}),'="',(0,i.jsx)(n.em,{children:"args"}),'"']}),"\n",(0,i.jsxs)(n.p,{children:["Add ",(0,i.jsx)(n.em,{children:"args"})," to the runtime (llama.cpp or vllm) invocation."]}),"\n",(0,i.jsxs)(n.h4,{id:"--seed",children:[(0,i.jsx)(n.strong,{children:"--seed"}),"="]}),"\n",(0,i.jsx)(n.p,{children:"Specify seed rather than using random seed model interaction"}),"\n",(0,i.jsxs)(n.h4,{id:"--selinuxtrue",children:[(0,i.jsx)(n.strong,{children:"--selinux"}),"=",(0,i.jsx)(n.em,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Enable SELinux container separation"}),"\n",(0,i.jsxs)(n.h4,{id:"--summarize-aftern",children:[(0,i.jsx)(n.strong,{children:"--summarize-after"}),"=",(0,i.jsx)(n.em,{children:"N"})]}),"\n",(0,i.jsx)(n.p,{children:"Automatically summarize conversation history after N messages to prevent context growth.\nWhen enabled, ramalama will periodically condense older messages into a summary,\nkeeping only recent messages and the summary. This prevents the context from growing\nindefinitely during long chat sessions. Set to 0 to disable (default: 4)."}),"\n",(0,i.jsxs)(n.h4,{id:"--temp08",children:[(0,i.jsx)(n.strong,{children:"--temp"}),'="0.8"']}),"\n",(0,i.jsx)(n.p,{children:"Temperature of the response from the AI Model\nllama.cpp explains this as:"}),"\n",(0,i.jsx)(n.p,{children:"The lower the number is, the more deterministic the response."}),"\n",(0,i.jsx)(n.p,{children:"The higher the number is the more creative the response is, but more likely to hallucinate when set too high."}),"\n",(0,i.jsx)(n.p,{children:"Usage: Lower numbers are good for virtual assistants where we need deterministic responses. Higher numbers are good for roleplay or creative tasks like editing stories"}),"\n",(0,i.jsxs)(n.h4,{id:"--thinkingtrue",children:[(0,i.jsx)(n.strong,{children:"--thinking"}),"=",(0,i.jsx)(n.em,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Enable or disable thinking mode in reasoning models"}),"\n",(0,i.jsxs)(n.h4,{id:"--threads--t",children:[(0,i.jsx)(n.strong,{children:"--threads"}),", ",(0,i.jsx)(n.strong,{children:"-t"})]}),"\n",(0,i.jsx)(n.p,{children:"Maximum number of cpu threads to use.\nThe default is to use half the cores available on this system for the number of threads."}),"\n",(0,i.jsxs)(n.h4,{id:"--tls-verifytrue",children:[(0,i.jsx)(n.strong,{children:"--tls-verify"}),"=",(0,i.jsx)(n.em,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"require HTTPS and verify certificates when contacting OCI registries"}),"\n",(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:["Run specified AI Model as a chat bot. RamaLama pulls specified AI Model from\nregistry if it does not exist in local storage. By default a prompt for a chat\nbot is started. When arguments or stdin are provided, they will be given\nto the AI Model and the output is returned. By default, the command exits after\ndisplaying the response, but you can use ",(0,i.jsx)(n.strong,{children:"--interactive"})," (",(0,i.jsx)(n.strong,{children:"-i"}),") to continue\nto an interactive chat session after processing the initial prompt."]}),"\n",(0,i.jsx)(n.h2,{id:"interactive-commands",children:"INTERACTIVE COMMANDS"}),"\n",(0,i.jsxs)(n.p,{children:["When running in interactive chat mode (without arguments), the following commands are available.\nAll commands are case-insensitive (e.g., ",(0,i.jsx)(n.code,{children:"/CLEAR"}),", ",(0,i.jsx)(n.code,{children:"/Clear"}),", and ",(0,i.jsx)(n.code,{children:"/clear"})," all work)."]}),"\n",(0,i.jsxs)(n.h4,{id:"help-help-",children:[(0,i.jsx)(n.strong,{children:"/help"}),", ",(0,i.jsx)(n.strong,{children:"help"}),", ",(0,i.jsx)(n.strong,{children:"?"})]}),"\n",(0,i.jsx)(n.p,{children:"Display help information showing all available commands and their descriptions."}),"\n",(0,i.jsx)(n.h4,{id:"clear",children:(0,i.jsx)(n.strong,{children:"/clear"})}),"\n",(0,i.jsx)(n.p,{children:"Clear the conversation history without exiting the chat session. This resets the context\nand allows starting a fresh conversation without restarting the container or connection.\nA confirmation message will be displayed when the history is cleared."}),"\n",(0,i.jsxs)(n.h4,{id:"bye-exit",children:[(0,i.jsx)(n.strong,{children:"/bye"}),", ",(0,i.jsx)(n.strong,{children:"exit"})]}),"\n",(0,i.jsx)(n.p,{children:"Exit the chat session and close the connection."}),"\n",(0,i.jsxs)(n.h4,{id:"tool-question",children:[(0,i.jsx)(n.strong,{children:"/tool"})," [question]"]}),"\n",(0,i.jsx)(n.p,{children:"(Only available when using --mcp) Manually select which MCP tool to use for a question.\nWithout this command, the AI automatically decides whether to use tools based on the question."}),"\n",(0,i.jsx)(n.h4,{id:"ctrl--d",children:(0,i.jsx)(n.strong,{children:"Ctrl + D"})}),"\n",(0,i.jsx)(n.p,{children:"Exit the chat session (EOF signal)."}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:"Run command without arguments starts a chatbot"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"ramalama run granite\n>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Run command with local downloaded model for 10 minutes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"ramalama run --keepalive 10m file:///tmp/mymodel\n>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Run command with a custom port to allow multiple models running simultaneously"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"ramalama run --port 8081 granite\n>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Send an initial prompt via stdin and continue chatting interactively"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:'$ echo "Explain quantum computing" | ramalama run -i granite\n[AI response...]\n> Can you give me an example?\n[AI response...]\n> /bye\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:'ramalama run merlinite "when is the summer solstice"\nThe summer solstice, which is the longest day of the year, will happen on June ...\n'})}),"\n",(0,i.jsx)(n.p,{children:"Run command with a custom prompt and a file passed by the stdin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"cat file.py | ramalama run quay.io/USER/granite-code:1.0 'what does this program do?'\n\nThis program is a Python script that allows the user to interact with a terminal. ...\n [end of text]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Run command and send multiple lines at once to the chatbot by adding a backslash ",(0,i.jsx)(n.code,{children:"\\"}),"\nat the end of the line"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ramalama run granite\n\ud83e\uddad > Hi \\\n\ud83e\uddad > tell me a funny story \\\n\ud83e\uddad > please\n"})}),"\n",(0,i.jsx)(n.p,{children:"Clear conversation history during a chat session"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ramalama run granite\n\ud83e\uddad > What is the capital of France?\nParis\n\ud83e\uddad > /clear\nConversation history cleared.\n\ud83e\uddad > What is 2+2?\n4\n"})}),"\n",(0,i.jsx)(n.h2,{id:"exit-codes",children:"Exit Codes:"}),"\n",(0,i.jsx)(n.p,{children:"0   Success\n124 RamaLama command did not exit within the keepalive time."}),"\n",(0,i.jsx)(n.h2,{id:"nvidia-cuda-support",children:"NVIDIA CUDA Support"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/platform-guides/cuda",children:"ramalama-cuda(7)"})," for setting up the host Linux system for CUDA support."]}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs/commands/ramalama/",children:"ramalama(1)"}),", ",(0,i.jsx)(n.a,{href:"/docs/platform-guides/cuda",children:"ramalama-cuda(7)"}),", ",(0,i.jsx)(n.a,{href:"/docs/configuration/conf",children:"ramalama.conf(5)"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["Aug 2024, Originally compiled by Dan Walsh <",(0,i.jsx)(n.a,{href:"mailto:dwalsh@redhat.com",children:"dwalsh@redhat.com"}),">"]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);